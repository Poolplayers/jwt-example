<h1>APA Internal App</h1>

<h3>Secured Iframe</h3>
<iframe
  class="google-maps"
  data-league="1013"
  width="90%"
  data-auth="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJOYW1lIjoidGp1c3RpY2UiLCJNZW1iZXJJZCI6bnVsbCwiSXNzdWVkRGF0ZSI6IjEyLzE3LzIwMTggMTY6MTE6MDciLCJMZWFndWVJZCI6MTAxMywiRXh0ZXJuYWxVc2VySUQiOiJ0anVzdGljZSIsIlVzZXJOYW1lIjoidGp1c3RpY2UiLCJJc0xlYWd1ZU9wZXJhdG9yIjp0cnVlLCJDbGllbnRJUCI6IjUyLjM4LjQ5LjMwIiwiSG9zdElwIjoiMTAuMC4wLjE3NSIsIlVzZXJNYXN0ZXJJZCI6IjE1MzMiLCJpc3MiOiJBUEEtQVBJIiwiYXVkIjoiaHR0cDovL3d3dy5wb29scGxheWVycy5jb20vIiwiZXhwIjoxNjcxMjkzNDY3LCJuYmYiOjE1NDUwNjMwNjd9.SncVbkKxJQy1AhmLmjwZ8Mru6z05El8_uPXij3m6fgE"
></iframe>

<h3>National Staff Requesting league</h3>
<iframe
  class="google-maps"
  data-league="555"
  width="90%"
  data-auth="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJOYW1lIjoidGp1c3RpY2UiLCJNZW1iZXJJZCI6bnVsbCwiSXNzdWVkRGF0ZSI6IjEyLzE3LzIwMTggMTY6MTE6MDciLCJMZWFndWVJZCI6MCwiRXh0ZXJuYWxVc2VySUQiOiJ0anVzdGljZSIsIlVzZXJOYW1lIjoidGp1c3RpY2UiLCJJc05hdGlvbmFsU3RhZmYiOnRydWUsIklzTGVhZ3VlT3BlcmF0b3IiOnRydWUsIkNsaWVudElQIjoiNTIuMzguNDkuMzAiLCJIb3N0SXAiOiIxMC4wLjAuMTc1IiwiVXNlck1hc3RlcklkIjoiMTUzMyIsImlzcyI6IkFQQS1BUEkiLCJhdWQiOiJodHRwOi8vd3d3LnBvb2xwbGF5ZXJzLmNvbS8iLCJleHAiOjE2NzEyOTM0NjcsIm5iZiI6MTU0NTA2MzA2N30.-P-FBCRYAV2XrBtd4PA3iVf4qw5D5UyIr6Ho0ySEJeo"
></iframe>

<h3>Lo Requesting wrong league</h3>
<iframe
  class="google-maps"
  data-league="555"
  width="90%"
  data-auth="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJOYW1lIjoidGp1c3RpY2UiLCJNZW1iZXJJZCI6bnVsbCwiSXNzdWVkRGF0ZSI6IjEyLzE3LzIwMTggMTY6MTE6MDciLCJMZWFndWVJZCI6MTAxMywiRXh0ZXJuYWxVc2VySUQiOiJ0anVzdGljZSIsIlVzZXJOYW1lIjoidGp1c3RpY2UiLCJJc0xlYWd1ZU9wZXJhdG9yIjp0cnVlLCJDbGllbnRJUCI6IjUyLjM4LjQ5LjMwIiwiSG9zdElwIjoiMTAuMC4wLjE3NSIsIlVzZXJNYXN0ZXJJZCI6IjE1MzMiLCJpc3MiOiJBUEEtQVBJIiwiYXVkIjoiaHR0cDovL3d3dy5wb29scGxheWVycy5jb20vIiwiZXhwIjoxNjcxMjkzNDY3LCJuYmYiOjE1NDUwNjMwNjd9.SncVbkKxJQy1AhmLmjwZ8Mru6z05El8_uPXij3m6fgE"
></iframe>

<h3>Bad Token Iframe</h3>
<iframe class="google-maps" data-league="1013" data-auth="bad token" width="90%"></iframe>

<h3>Expired Token Iframe</h3>
<iframe
  class="google-maps"
  data-league="1013"
  data-auth="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJOYW1lIjoidGp1c3RpY2UiLCJNZW1iZXJJZCI6bnVsbCwiSXNzdWVkRGF0ZSI6IjEyLzE3LzIwMTggMTY6MTE6MDciLCJMZWFndWVJZCI6MCwiRXh0ZXJuYWxVc2VySUQiOiJ0anVzdGljZSIsIlVzZXJOYW1lIjoidGp1c3RpY2UiLCJJc05hdGlvbmFsU3RhZmYiOnRydWUsIklzTGVhZ3VlT3BlcmF0b3IiOnRydWUsIkNsaWVudElQIjoiNTIuMzguNDkuMzAiLCJIb3N0SXAiOiIxMC4wLjAuMTc1IiwiVXNlck1hc3RlcklkIjoiMTUzMyIsImlzcyI6IkFQQS1BUEkiLCJhdWQiOiJodHRwOi8vd3d3LnBvb2xwbGF5ZXJzLmNvbS8iLCJleHAiOjE1NDUwMzMwNjcsIm5iZiI6MTU0NTAzMzA2N30._2tDe0_bts9y5iZyq2ejKI2QOueoL2VGXZGIhH6bPDA"
  width="90%"
></iframe>

<script>
  const iframes = document.getElementsByClassName('google-maps');

  for (i = 0; i < iframes.length; i++) {
    populateIframe(iframes[i]);
  }

  async function populateIframe(el) {
    const page = await fetch('/league/' + el.dataset.league, {
      headers: {
        authorization: el.dataset.auth
      }
    }).then(res => res.text());

    el.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(page);
  }
</script>

<style>
  .google-maps {
    padding: 0;
    margin: 0;
  }
</style>
